---
title: 升级TFS2013至TFS2015
categories: [维护]
tags: [tfs]
---

确认原环境
==================================================================


*  工作组环境
*  SQL SERVER2008+TFS2013








建立并配置DC
==================================================================


  建组策略设置"漫游用户配置文件"与"文件夹重定向"
------------------------------------------------------

*** 设置目录地址为“c:\RoamingUsers”

*** 对客户机的好处

    登录注销速度不慢，      因数据依然在本地硬盘上存储
    重装后资料（桌面，文档）大部分能保留，      因数据不存储在系统盘








建新虚拟机安装SQL SERVER2015+TFS2015
==================================================================


  安装时配置报表功能
------------------------------------------------------

***    可直接使用administrator帐户
***    参考      https://msdn.microsoft.com/zh-cn/library/ms252477.aspx


  将自己的域帐号加入TFS2015的团队项目集管理员组
------------------------------------------------------

以便使用此帐号建团队项目集







迁移TFS2013上的团队项目集合
==================================================================


*  在TFS2013管理控制台上分离目标团队项目集合
*  将目标团队项目集合的数据库从SQL SERVER 2008备份还原至SQL SERVER 2014
*  在TFS2015管理控制台上附加刚被还原至SQL SERVER 2014上的目标团队集合








新增项目团队集合
==================================================================


*  新增GIT类型的存储库后迁入原GIT库
*  设置迭代列表
*  选择迭代一后设置capacity








设置客户机
==================================================================


*  客户机进域后重启
*  登录本机帐号
*  将自己的域帐号加入本机的管理员组
*  使用管理员权限运行以下命令

``` dos
    mkdir d:\RoamingUsers
    mklink /d c:\RoamingUsers d:\RoamingUsers
```